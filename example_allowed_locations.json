{
  "properties": {
    "displayName": "Allowed Locations - US Only",
    "policyType": "Custom",
    "mode": "Indexed",
    "description": "Deny resource creation outside US regions",
    "metadata": {
      "metadata": {
        "version": "1.0.0",
        "category": "Location"
      },
      "createdBy": "user-guid-would-be-here",
      "createdOn": "2025-09-14T15:27:40.0984567Z",
      "updatedBy": null,
      "updatedOn": null
    },
    "version": "1.0.0",
    "parameters": {
      "allowedLocations": {
        "type": "Array",
        "metadata": {
          "description": "The list of allowed locations for resources. Must be in US Regions",
          "displayName": "Allowed locations - US Only",
          "strongType": "location"
        },
        "allowedValues": [
          "eastus",
          "eastus2",
          "eastus3",
          "centralus",
          "northcentralus",
          "southcentralus",
          "westcentralus",
          "westus",
          "westus2",
          "westus3"
        ],
        "defaultValue": [
          "eastus"
        ]
      }
    },
    "policyRule": {
      "if": {
        "not": {
          "field": "location",
          "in": "[parameters('allowedLocations')]"
        }
      },
      "then": {
        "effect": "deny"
      }
    },
    "versions": [
      "1.0.0"
    ]
  },
  "id": "/subscriptions/subscription-id-would-be-here/providers/Microsoft.Authorization/policyDefinitions/Allowed Locations",
  "type": "Microsoft.Authorization/policyDefinitions",
  "name": "Allowed Locations",
  "systemData": {
    "createdBy": "author@domain.com",
    "createdByType": "User",
    "createdAt": "2025-09-14T15:27:40.0478862Z",
    "lastModifiedBy": "author@domain.com",
    "lastModifiedByType": "User",
    "lastModifiedAt": "2025-09-14T15:27:40.0478862Z"
  }
}